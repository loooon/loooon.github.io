<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="baidu-site-verification" content="aU3N2svBaJ" />
    

    <title>Gone With The Wind | </title>
    <meta name="author" content="Michael">
    
    <meta name="description" content="RHETT: Let’s see, my losses for the afternoon come to what? Hmm…  three hundred and fourty. My debts do mount up, don’t they, Major? MAJOR: All right, Corporal. Show Captain Butler’s sister to his cell. RHETT: Thank you, Major…excuse me, gentlemen.MAJOR: It’s hard to be strict with a man who loses money so  pleasantly.(In the jail. Scarlett appears, dressing in beautiful green velvet.) SCARLETT: Rhett!RHETT: Scarlett! My dear little sister. (to Corporal) It’s all right  Corporal, my sister has brought me now files or saws. Can I really  kiss you now?SCARLETT: On the forehead like a good brother.">
    
    
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <meta property="og:title" content="Gone With The Wind"/>
    <meta property="og:site_name" content="懿紫"/>

    
    <meta property="og:image" content="undefined"/>
    

    <link rel="icon" type="image/png" href="/favicon.png">
    <link rel="alternate" href="/atom.xml" title="懿紫" type="application/atom+xml">
    <link rel="stylesheet" href="/css/lib/materialize.min.css">
    <link rel="stylesheet" href="/css/lib/font-awesome.min.css">
    <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">

    
        <link rel="stylesheet" href="/css/lib/prettify-tomorrow-night-eighties.css" type="text/css">
    
    <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
</head>


<body>
    <img src="/weixin_favicon.png" style="position: absolute; left: -9999px; opacity: 0; filter: alpha(opacity=0);">

    <nav class="indigo">
    <div class="nav-wrapper">
        <a href="#" data-activates="main-menu" class="button-collapse">
            <i class="fa fa-navicon"></i>
        </a>
        <div class="">
            <a href="/" class="brand-logo hide-on-med-and-down">懿紫</a>
            <ul class="right hide-on-med-and-down">
                
                    <li>
                        <a class="menu-home " href="/" >
                            <i class="fa fa-home "></i>
                            
                            首页
                        </a>
                    </li>
                
                    <li>
                        <a class="menu-archive " href="/archives" >
                            <i class="fa fa-archive "></i>
                            
                            归档
                        </a>
                    </li>
                
                    <li>
                        <a class="menu-category category-menu" href="javascript:;" data-activates="category-menu" >
                            <i class="fa fa-bookmark "></i>
                            
                            分类
                        </a>
                    </li>
                
                    <li>
                        <a class="menu-reading " href="/reading" >
                            <i class="fa fa-book "></i>
                            
                            读书
                        </a>
                    </li>
                
                    <li>
                        <a class="menu-about " href="/about" >
                            <i class="fa fa-user "></i>
                            
                            关于
                        </a>
                    </li>
                
                    <li>
                        <a class="menu-search modal-trigger " href="#search" >
                            <i class="fa fa-search "></i>
                            
                            搜索
                        </a>
                    </li>
                
            </ul>
            <div>
    <ul class="side-nav indigo darken-1" id="main-menu">
        
        <li class="side-user">
            <div class="row">
                <div class="col s4 no-padding">
                    <img class="avatar-image circle responsive-img" src="http://ww2.sinaimg.cn/small/74990035jw1f1rjkd681bj20rs0rsdhg.jpg" alt="User Avatar">
                </div>
                <div class="info col s8 valign-wrapper no-padding">
                    <div class="valign">
                        <p class="name">Michael Chan</p>
                        <p class="desc">Web前端/java/技术宅</p>
                    </div>
                </div>
            </div>
        </li>
        

        
            <li class="no-padding">
                <a class="waves-effect menu-home " href="/" >
                    <i class="fa fa-home "></i>
                    
                    首页
                </a>
            </li>
        
            <li class="no-padding">
                <a class="waves-effect menu-archive " href="/archives" >
                    <i class="fa fa-archive "></i>
                    
                    归档
                </a>
            </li>
        
            <li class="no-padding">
                <a class="waves-effect menu-category category-menu" href="javascript:;" data-activates="category-menu" >
                    <i class="fa fa-bookmark "></i>
                    
                    分类
                </a>
            </li>
        
            <li class="no-padding">
                <a class="waves-effect menu-reading " href="/reading" >
                    <i class="fa fa-book "></i>
                    
                    读书
                </a>
            </li>
        
            <li class="no-padding">
                <a class="waves-effect menu-about " href="/about" >
                    <i class="fa fa-user "></i>
                    
                    关于
                </a>
            </li>
        
            <li class="no-padding">
                <a class="waves-effect menu-search modal-trigger " href="#search" >
                    <i class="fa fa-search "></i>
                    
                    搜索
                </a>
            </li>
        
    </ul>

    <ul class="side-nav indigo darken-1" id="category-menu">
    

            

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/game/">
                    game <span class="right">2 篇</span></a>
                </a>
            </li>

        

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/technology/">
                    technology <span class="right">7 篇</span></a>
                </a>
            </li>

        

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/literary/">
                    literary <span class="right">2 篇</span></a>
                </a>
            </li>

        

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/constellation/">
                    constellation <span class="right">1 篇</span></a>
                </a>
            </li>

        

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/music/">
                    music <span class="right">1 篇</span></a>
                </a>
            </li>

        

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/tech/">
                    tech <span class="right">1 篇</span></a>
                </a>
            </li>

        

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/school/">
                    school <span class="right">9 篇</span></a>
                </a>
            </li>

        

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/emotion/">
                    emotion <span class="right">1 篇</span></a>
                </a>
            </li>

        

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/life/">
                    life <span class="right">1 篇</span></a>
                </a>
            </li>

        

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/faith/">
                    faith <span class="right">1 篇</span></a>
                </a>
            </li>

        

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/language/">
                    language <span class="right">2 篇</span></a>
                </a>
            </li>

        

    </ul>
</div>

        </div>
    </div>
</nav>

<div id="search" class="modal search-modal">
    <div class="row">
        <div class="input-field col s12">
              <input id="search-input" type="text">
              <label for="search-input">搜索</label>
        </div>

    </div>
    <div id="search-result" class="search-result col s12">

    </div>
</div>


    <main>
        <div class="container main-container">
    <nav class="page-nav hide-on-small-only">
    <div class="nav-wrapper indigo">
        <span class="breadcrumb">当前位置（分类目录）</span>
        
            
    
    
    <a class="breadcrumb" href="/categories/literary/">literary</a>


        

        
    </div>
</nav>

<article>
    <div class="card">
        <div class="card-content">
            

            <div class="article-title">
                
    
        <h1>Gone With The Wind</h1>
    


            </div>
            <time class="pink-link-context" datetime="2016-11-07T10:46:43.000Z"><a href="/2016/11/07/gonewithwind/">2016-11-07</a></time>

            <span id="busuanzi_container_page_pv" class="read-times-container">
    <i class="fa fa-eye"></i>
    <span id="busuanzi_value_page_pv"></span>
</span>

            
    <div class="tags-row">
        
            <a href="/tags/love/" class="chip pink lighten-1">love</a>
        
    </div>


            <div class="toc pink-link-context hide-on-med-and-down">
    
</div>


            <div class="entry pink-link-context">
                <p>RHETT: Let’s see, my losses for the afternoon come to what? Hmm…  three hundred and fourty. My debts do mount up, don’t they, Major? MAJOR: All right, Corporal. Show Captain Butler’s sister to his cell. RHETT: Thank you, Major…excuse me, gentlemen.<br>MAJOR: It’s hard to be strict with a man who loses money so  pleasantly.<br>(In the jail. Scarlett appears, dressing in beautiful green velvet.) SCARLETT: Rhett!<br>RHETT: Scarlett! My dear little sister. (to Corporal) It’s all right  Corporal, my sister has brought me now files or saws. Can I really  kiss you now?<br>SCARLETT: On the forehead like a good brother.<br><a id="more"></a><br>RHETT: No thanks, I’ll wait and hope for better things.<br>SCARLETT: Oh, Rhett, I was so distressed when I heard you were  in jail. I simply couldn’t sleep for thinking. It’s not true they’re going  to hang you.<br>RHETT: Would you be sorry? SCARLETT: Oh, Rhett…<br>RHETT: Well, don’t worry. Yeah, The Yankees have trumped up some charge against me but what they’re<br>really after is my money. They seem to think I made off with a Confederate treasury. SCARLETT: Well, did you?<br>RHETT: What a leading question. Let’s not talk about “sordid things like money. How good of you to come and see me. And how pretty you look.<br>SCARLETT: Oh, Rhett, how you do run on teasing a country girl like me.<br>RHETT: Thank Heaven’s you’re not in rags, I’m tired of seeing women in rags. Turn around. You look good enough to eat. Prosperous, too.<br>SCARLETT: Thank you, I’ve been doing very well.<br>Everybody’s doing well at Tara, only, I got so bored, I just thought I’d treat myself with to visit to town.<br>RHETT: You’re a heartless creature but that’s part of your charm. Though you’ve got more charm than the law allows.<br>SCARLETT: Now I did come here to talk senseless about me, Rhett. I came because I was so miserable at the thought of you in trouble. Oh, I know I was mad at you<br>the night you left me on the road to Tara, and I still haven’t </p>
<p>forgiven you.<br>RHETT: Oh, Scarlett, don’t say that.<br>SCARLETT: Well, I must admit I might not be alive now. Only for<br>you. And when I think of myself with anything I could possibly hope  for, and not a care in the world, and you where here in this horrid jail.  And not even a human jail, Rhett, a horse jail. But listen to me, try to<br>make jokes when, when I really want to cry. And in a minute I shall  cry.<br>RHETT: Scarlett, can it be possible that…  SCARLETT: Can what be possible, Rhett?<br>RHETT: That you’ve grown a woman’s heart? A real woman’s heart. SCARLETT: I have Rhett. I know I have.<br>RHETT: You know it’s worth being in jail just to hear you say<br>that.It’s well worth it. (Rhett grasps Scarlett’s hands. And suddenly, he<br>reads the callous skin of her hands. This is a pair of hard-working  hands.)You can drop the moonlight and ‘’’magnolia, Scarlett. So  things have been going well at tara, have they?  SCARLETT: Yes…<br>RHETT: What have you been doing with your hands?<br>SCARLETT: It’s just that, I went riding last week without my  gloves…<br>RHETT: These don’t belong to a lady, you’ve been working with<br>them like a field hand. Why did you lie to me, and what are you really  up to?<br>SCARLETT: Now Rhett…<br>RHETT: In another minute, I’d almost believed you’d cared  something.<br>SCARLETT: But I do care!<br>RHETT: Suppose we get down to the truth. You want something<br>from me and you want it badly enough to put on quite a show on your  velvets. What is it, money?<br>SCARLETT: I want three hundred dollars to pay the taxes on Tara.<br>Oh Rhett, I did lie to you when I said everything was all right. Things  are just as bad as they possibly could be. And you’ve got millions,  Rhett.<br>RHETT: What collateral are you offering?  </p>
<p>SCARLETT: My ear bobs…  RHETT: Not interested.<br>SCARLETT: Mortgage on Tara…<br>RHETT: What would I do with a farm?<br>SCARLETT: You wouldn’t lose, I’d pay you back after next year’s  cotton.<br>RHETT: Not good enough. Have you nothing better?<br>SCARLETT: You once said you loved me. If you still love me,  Rhett…<br>RHETT: You haven’t forgotten that I’m not a marrying man. SCARLETT: No. I haven’t forgotten,<br>RHETT: You’re not worth three hundred dollars. You’ll never mean  anything but misery to any man.<br>SCARLETT: Go on, insult me, I don’t care what you say, only give<br>me the money! I won’t let Tara go, I can’t let it go while there’s a  breath left in my body. Oh, Rhett, won’t you please give me the  money?<br>RHETT: I couldn’t give you the money if I wanted to. My funds are  in Liverpool, not in Atlanta. If I tried drawing a<br>draft, the Yankees would be on me like a duck on a junebug. So you  see my dear, you’ve abased yourself to no purpose. Stop it! You want  the Yankees to see like this?<br>SCARLETT: Take your hands off me, you dunk! You know what I am  going to say before I started. You knew you wouldn’t lend me the  money and yet, and yet, you let me go on.<br>RHETT: I enjoyed hearing what you had to say. Cheer up, you can  come to my hanging and I’ll remember you in my will.<br>SCARLETT: I’ll come to your hanging. The only thing I’m afraid of is  they won’t hang you in time to pay the taxes on Tara. Chapter<br>9Scarlett’s Second Marriage<br>(Scarlett leaves the jail in burning anger. But the visit of Scarlett and her new dress to Atlanta is not a complete “futility. She meets Frank Kennedy, Sue Ellen’s beau.) FRANK: Surely it can’t be Miss Scarlett! SCARLETT: Why, Frank Kennedy! FRANK: And Mammie…<br>MAMMIE: It sure is good to see home folks. FRANK: I didn’t know you were in Atlanta. SCARLETT: I didn’t know you were.<br>FRANK: Didn’t Miss Sue Ellen tell you about my store?  </p>
<p>SCARLETT: Did she, I don’t remember. Have you a store? This?<br>FRANK: Won’t you come in, look around a bit? (Into the store) I  don’t suppose it looks like much to a lady, but I can’t help being  proud of it.<br>SCARLETT: You’re not making money?<br>FRANK: Well, I can’t complain. In fact I’m mighty encouraged.<br>Folks tell me I’m just a born merchant. It won’t be long now before  Miss Sue Ellen and I can marry.<br>SCARLETT: Well , you’re doing as well as all that?<br>FRANK: Yes, I am. Miss Scarlett. I’m no millionaire yet, but I have  cleared a thousand dollars already.  SCARLETT: And lumber too.<br>FRANK: Well, that’s only a sideline.<br>SCARLETT: A sideline, Frank? With all the good Georgia pine  around Atlanta, and all this building going on?<br>FRANK: Well, all that takes money, Miss Scarlett, and, I got to be  thinking about buying a home.<br>SCARLETT: What would you want a home for?<br>FRANK: For Miss Sue Ellen and me to set up housekeeping.<br>SCARLETT: Here in Atlanta. You’d want to bring her to Atlanta,  wouldn’t you? There wouldn’t be much help in that for Tara. FRANK: I don’t rightly know what you mean, Miss Scarlett.<br>SCARLETT: I don’t mean a thing. Frank, how’d you like to drive me  out to my Aunt Pitty’s?<br>FRANK: Oh, nothing could give me more pleasure, Miss Scarlett.<br>SCARLETT: I think you’d better stay for supper, too. I’m sure Aunt  Pitty would be agreeable and I know I’d like a good long visit with  you.<br>FRANK: Oh, you act on me just like a ^tonic, Miss Scarlett. And will  you tell me all the news, all the news of Miss Sue Ellen? What’s the  matter, Miss Scarlett? Miss Sue Ellen’s not ill, is she?<br>SCARLETT: Oh, no, no. I thought surely she had written you. I guess  she was ashamed to write to you. She should be ashamed. Oh how  awful to have such a mean sister.<br>FRANK: You must tell me, Miss Scarlett. Don’t leave me on the  tenderhooks.<br>SCARLETT: Well, she’s going to marry one of the county boys next  month. She just got tired of waiting and was afraid she’d be an old  maid and…Oh, I’m sorry to be the one to tell you. Oh, it’s cold, and I  </p>
<p>left my muff at home. Would you mind if I put my hand in your<br>pocket? (Scarlett returns to Tara as Mrs. Kennedy, with 300 dollars, to  face Sue Ellen’s broken heart and the astonishment of the other<br>people.) SUE ELLEN: But Melanie, you don’t realize what she’s done.  She’s gone and married my Mr. Kennedy! He’s my beau and she’s  gone and married him.<br>MELANIE: She did it to save Tara, you must understand that, Sue  Ellen.<br>SUE ELLEN: I hate Tara. And I hate Scarlett. She’s the only thing I  hate worse than Tara!<br>(In the living room.)<br>ASHLEY: It’s all my fault. I should have commited highway robbery  to get that tax money for you.<br>SCARLETT: I couldn’t let you do anything like that, and anyway, it’s  done now.<br>ASHLEY: Yes, it’s done now. You wouldn’t let me do anything<br>dishonorable yet you’d sell yourslef in marraige to a man you didn’t  love. Well, at least you won’t have to worry about my helplessness  anymore.<br>SCARLETT: What do you mean?<br>ASHLEY: I’m going to New York. I’ve arranged to get a position in a  bank there.<br>SCARLETT: But you can’t do that! I’ve counted on you to help me  start a lumber business Ashley and, I counted on you.<br>ASHLEY: Scareltt, I wouldn’t be any good to you, I don’t know  anything about the lumber business.<br>SCARLETT: You know as much as you do about banking, and I’d  give you half the business Ashley.<br>ASHLEY: That’s generous of you Scarlett. But it isn’t that. If I go to  Atlanta and take help from you again, I’d bury forever any hope of  standing alone.<br>SCARLETT: Oh, is that all? Well, you could gradually buy the  business, and then it would be your own, and then… ASHLEY: No Scarl</p>

                
<p class="pink-link-context">
    <a href="/2016/11/15/regularexpression/" rel="next" title="Regular Expression">
    上一篇：Regular Expression
  </a>
</p>



<p class="pink-link-context">
    <a href="/2016/11/01/schoollightning/" rel="next" title="schoollightning">
    下一篇：schoollightning
  </a>
</p>


            </div>
			
        </div>
    </div>
</article>




    <section id="comment">
        <div class="card">
            <div class="card-content">
                <!-- Duoshuo Comment BEGIN -->
                <div class="ds-thread" data-thread-key="2016/11/07/gonewithwind/" data-title="Gone With The Wind" data-url="http://yizi.tech/2016/11/07/gonewithwind/"></div>

                <script type="text/javascript">
                    console.log(document.querySelector('.ds-thread'));
                    var duoshuoQuery = {
                        short_name: 'lonlone'
                    };
                    (function() {
                        var ds = document.createElement('script');
                        ds.type = 'text/javascript';
                        ds.async = true;
                        ds.src = (document.location.protocol == 'https:'
                            ? 'https:'
                            : 'http:') + '//static.duoshuo.com/embed.js';
                        ds.charset = 'UTF-8';
                        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds);
                    })();
                </script>
                <!-- Duoshuo Comment END -->
            </div>
        </div>
    </section>



</div>

        <div class="fixed-action-btn float-sitemap">
    <a class="btn-floating btn-large pink">
      <i class="fa fa-caret-square-o-up"></i>
    </a>
    <ul>
      <li><a class="btn-return-top btn-floating waves-effect green" title="回到顶部"><i class="fa fa-arrow-circle-o-up"></i></a></li>
      <li><a class="btn-floating waves-effect button-collapse yellow darken-1"  data-activates="main-menu" title="menu"><i class="fa fa-navicon"></i></a></li>
    </ul>
  </div>

    </main>
    <footer class="page-footer indigo darken-1">
    
    <div class="container">
        <div class="row">
            
            <div class="social-group col m4 s12">
                <h5 class="white-text">社交</h5>
                
                    <a class="social-link" href="http://weibo.com/1005052814061212" target="_blank">
                        <i class="fa fa-2x fa-weibo"></i>
                    </a>
                
                    <a class="social-link" href="https://github.com/loooon" target="_blank">
                        <i class="fa fa-2x fa-github"></i>
                    </a>
                
                    <a class="social-link" href="/atom.xml" target="_blank">
                        <i class="fa fa-2x fa-rss"></i>
                    </a>
                
                <div class="site-visitors-container white-text">
                    <span>
                        <i class="fa fa-user"></i>
                        <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
                    </span>
                    <span>&nbsp;|&nbsp;</span>
                    <span>
                        <i class="fa fa-eye"></i>
                        <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
                    </span>
                </div>
            </div>
            

            
            <div class="col m8 s12">
                <h5 class="white-text">友情链接</h5>
                
                    <a class="social-link" href="http://kangbazi.top" target="_blank">KANG BA ZI</a>
                
                    <a class="social-link" href="https://doublekill.me" target="_blank">DOUBLE KILL</a>
                
            </div>
            
        </div>
    </div>
    

    <div class="footer-copyright pink-link-context">
        <div class="container">
            © 2017 YIZI Inc., All rights reserved.
            <p class="right" style="margin-top: 0;"><a target="_blank" href="http://baike.baidu.com/link?url=Mqb8kRWL3mSBw_Gd7mq1jSRPUQyBqcd0_vYWO7ZBgUrEgtPHzdzbc2sQGrlDaN1rydT6OvqpcEG2Ep09HFY0woX0OakrWiN06LJbf2T4pIWWaBKtzGvv25x8AYA3NSa1lWhal1lzIC2_DVPiwPEIc7nUwv1RR86gHRoVq1jsZjG21Rz6ej-8-KkvRLU42LIhss2aLm0eNayRIqXiecKxBPMtG80A12LOKzGJS-JFEKa">上海懿紫网络科技有限公司</a> ，版权所有©2017</p>


        </div>
    </div>
</footer>


    <noscript>
    <div class="noscript">
        <p class="center-align">当前网速较慢或者你使用的浏览器不支持博客特定功能，请尝试刷新或换用Chrome、Firefox等现代浏览器</p>
    </div>
</noscript>
<div class="noscript">
    <p class="center-align">当前网速较慢或者你使用的浏览器不支持博客特定功能，请尝试刷新或换用Chrome、Firefox等现代浏览器</p>
</div>


<script src="/js/jquery.min.js"></script>
<script src="/js/materialize.min.js"></script>
<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

<script>
    (function($) {
        $(document).ready(function() {
            // 隐藏禁用javascript（针对微信内置浏览器）的提示
            $('.noscript').hide();

            // 图片缩放效果
            var $imgs = $('img').not('.slider-image').not('.avatar-image').not('.carousel-image').not('.card-cover-image').not('.qrcode');

            // 给图片加上点击放大效果（materialbox插件）
            $imgs.addClass('materialboxed').each(function(i, el) {
                $(this).attr('data-caption', $(this).attr('alt') || ' ');
            }).materialbox();

            // 优化表格的显示
            $('table').each(function() {
                var $table = $(this);
                // 除去多行代码的情况
                if ($table.find('pre').length == 0) {
                    $table.addClass('responsive-table striped bordered');
                }
            });

            //优化打赏按钮
            var donate_img_show_flag=true;
            $("#donate_module").on('click',"#donate_board",function(){
              $(this).show();
              if(donate_img_show_flag){
                $("#donate_guide").show();
                donate_img_show_flag=false;

              }else {
                $("#donate_guide").hide();
                donate_img_show_flag=true;
              }
            });


            // 首页幻灯片
            $('.slider').slider({indicators: true, full_width: true, interval: 8000});

            $(".button-collapse").sideNav();
            $(".category-menu").sideNav();

            // 针对gallery post
            $('.carousel').carousel({full_width: true});
            $('.carousel-control.prev').click(function() {
                $('.carousel').carousel('prev');
            });
            $('.carousel-control.next').click(function() {
                $('.carousel').carousel('next');
            });

            // 文章目录
            $('article').not('.simple-article').find('h1').add('h2').add('h3').add('h4').add('h5').add('h6').scrollSpy();

            // 目录随屏幕滚动（防止目录过长越过footer）
            var $toc = $('.toc');
            var scrollTargetTop = 0;
            $(window).scroll(function() {
                var $activeLink = $toc.find('a.active.section');
                if ($(window).scrollTop() < 100) {
                    scrollTargetTop = 0;
                } else {
                    if ($activeLink[0]) {
                        scrollTargetTop = $activeLink.offset().top - $toc.offset().top;
                    }
                }
                $toc.css('top', '-' + scrollTargetTop + 'px');
            });

            // 修正文章目录的left-border颜色
            var color = $('.table-of-contents-text').css('color');
            $('.table-of-contents-link').css('border-left-color', color);

            // 针对移动端做的优化：FAB按钮点击一下收回
            if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
                $('.fixed-action-btn').addClass('click-to-toggle');
            }
            // 回到顶部
            $('.btn-return-top').click(function() {
                $('body, html').animate({
                    scrollTop: 0
                }, 500);
            });

            // 重置读书页面的Tab标签页的颜色
            $('li.tab a').hover(function() {
                $(this).toggleClass('text-lighten-4');
            });
            $('.indicator').addClass('pink lighten-2');

            
            // 添加new标签
            $('.menu-reading, .menu-about').append('<span class="new badge pink"></span>');
            

            // 搜索功能
            $('.modal-trigger').leanModal({
                // 打开搜索框时自动聚焦
                ready: function() {
                    if ($('#search').is(":visible")) {
                        $('#search-input').focus();
                    }
                }
            });
            var searchXml = "search.xml";
            if (searchXml.length == 0) {
             	searchXml = "search.xml";
            }
            var searchPath = "/" + searchXml;
            initSearch(searchPath, 'search-input', 'search-result');
        });

        // 初始化搜索与匹配函数
        var initSearch = function(path, search_id, content_id) {
            'use strict';
            $.ajax({
                url: path,
                dataType: "xml",
                success: function(xmlResponse) {
                    // get the contents from search data
                    var datas = $("entry", xmlResponse).map(function() {
                        return {
                            title: $("title", this).text(),
                            content: $("content", this).text(),
                            url: $("url", this).text()
                        };
                    }).get();
                    var $input = document.getElementById(search_id);
                    var $resultContent = document.getElementById(content_id);
                    $input.addEventListener('input', function() {
                        var str = '<ul class=\"search-result-list\">';
                        var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                        $resultContent.innerHTML = "";
                        if (this.value.trim().length <= 0) {
                            return;
                        }
                        // perform local searching
                        datas.forEach(function(data) {
                            var isMatch = true;
                            var content_index = [];
                            var data_title = data.title.trim().toLowerCase();
                            var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                            var data_url = data.url;
                            var index_title = -1;
                            var index_content = -1;
                            var first_occur = -1;
                            // only match artiles with not empty titles and contents
                            if (data_title != '' && data_content != '') {
                                keywords.forEach(function(keyword, i) {
                                    index_title = data_title.indexOf(keyword);
                                    index_content = data_content.indexOf(keyword);
                                    if (index_title < 0 && index_content < 0) {
                                        isMatch = false;
                                    } else {
                                        if (index_content < 0) {
                                            index_content = 0;
                                        }
                                        if (i == 0) {
                                            first_occur = index_content;
                                        }
                                    }
                                });
                            }
                            // show search results
                            if (isMatch) {
                                keywords.forEach(function(keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    data_title = data_title.replace(regS, "<span class=\"search-keyword pink lighten-2\">" + keyword + "</span>");
                                });

                                str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                                var content = data.content.trim().replace(/<[^>]+>/g, "");
                                if (first_occur >= 0) {
                                    // cut out 100 characters
                                    var start = first_occur - 20;
                                    var end = first_occur + 80;
                                    if (start < 0) {
                                        start = 0;
                                    }
                                    if (start == 0) {
                                        end = 100;
                                    }
                                    if (end > content.length) {
                                        end = content.length;
                                    }
                                    var match_content = content.substring(start, end);
                                    // highlight all keywords
                                    keywords.forEach(function(keyword) {
                                        var regS = new RegExp(keyword, "gi");
                                        match_content = match_content.replace(regS, "<span class=\"search-keyword pink lighten-2\">" + keyword + "</span>");
                                    });

                                    str += "<p class=\"search-result\">..." + match_content + "...</p>"
                                }
                                str += "</li>";
                            }
                        });
                        str += "</ul>";
                        $resultContent.innerHTML = str;
                    });
                }
            });
        }
    })(jQuery);
</script>


<script src="/js/prettify.js"></script>
<script type="text/javascript">
    $(document).ready(function() {
        $("pre").addClass("prettyprint");
        prettyPrint();
    });
</script>


<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-85910415-1', 'auto');
    ga('send', 'pageview');

</script>







</body>
</html>
